"use strict";
var getConfigData_1 = require('./getConfigData');
var express = require('express');
var router = express.Router();
exports.router = router;
router.get('/', function (req, res, next) {
    var appData = new getConfigData_1.AppDataConfig();
    appData.client.connect(appData.serverUrl, function (err, db) {
        if (err) {
            res.sendStatus(500);
            throw err;
        }
        console.log(appData.serverUrl);
        db.collection('users').find().toArray(function (err, result) {
            if (err) {
                res.sendStatus(404);
                throw err;
            }
            res.json(result);
        });
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yb3V0ZXJzL3Jvb3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDhCQUE4QixpQkFDOUIsQ0FBQyxDQUQ4QztBQUMvQyxJQUFZLE9BQU8sV0FBTSxTQUV6QixDQUFDLENBRmlDO0FBRWxDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUU7QUFtQnBCLGNBQU0sVUFuQmM7QUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsVUFBQyxHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUNuRSxJQUFJLE9BQU8sR0FBRyxJQUFJLDZCQUFhLEVBQUUsQ0FBQTtJQUNqQyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLFVBQUMsR0FBUSxFQUFFLEVBQU87UUFDeEQsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNOLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDbkIsTUFBTSxHQUFHLENBQUE7UUFDYixDQUFDO1FBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDOUIsRUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBQyxHQUFRLEVBQUUsTUFBVztZQUN4RCxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNOLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUE7Z0JBQ25CLE1BQU0sR0FBRyxDQUFBO1lBQ2IsQ0FBQztZQUNELEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDLENBQUMsQ0FBQTtBQUNOLENBQUMsQ0FBQyxDQUFBO0FBRWdCIiwiZmlsZSI6InJvdXRlcnMvcm9vdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcERhdGFDb25maWcgfSBmcm9tICcuL2dldENvbmZpZ0RhdGEnXHJcbmltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcclxuXHJcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXHJcbnJvdXRlci5nZXQoJy8nLCAocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSA9PiB7XHJcbiAgICBsZXQgYXBwRGF0YSA9IG5ldyBBcHBEYXRhQ29uZmlnKClcclxuICAgIGFwcERhdGEuY2xpZW50LmNvbm5lY3QoYXBwRGF0YS5zZXJ2ZXJVcmwsIChlcnI6IGFueSwgZGI6IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgcmVzLnNlbmRTdGF0dXMoNTAwKVxyXG4gICAgICAgICAgICB0aHJvdyBlcnJcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coYXBwRGF0YS5zZXJ2ZXJVcmwpXHJcbiAgICAgICAgZGIuY29sbGVjdGlvbigndXNlcnMnKS5maW5kKCkudG9BcnJheSgoZXJyOiBhbnksIHJlc3VsdDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5zZW5kU3RhdHVzKDQwNClcclxuICAgICAgICAgICAgICAgIHRocm93IGVyclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcy5qc29uKHJlc3VsdClcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSlcclxuXHJcbmV4cG9ydCB7IHJvdXRlciB9O1xyXG5cclxuIl19
