"use strict";
var index_1 = require('./index');
var express = require('express');
var router = express.Router();
exports.router = router;
router.get('/', function (req, res, next) {
    var appData = new index_1.AppData();
    appData.client.connect(appData.serverUrl, function (err, db) {
        if (err) {
            throw 'Err:' + err;
        }
        console.log(appData.serverUrl);
        db.collection('users').find().toArray(function (err, result) {
            if (err) {
                throw err;
            }
            console.log(result);
            res.json(result);
        });
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9yb3V0ZXJzL3Jvb3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHNCQUF3QixTQUN4QixDQUFDLENBRGdDO0FBQ2pDLElBQVksT0FBTyxXQUFNLFNBRXpCLENBQUMsQ0FGaUM7QUFFbEMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRTtBQXFCcEIsY0FBTSxVQXJCYztBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxVQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSTtJQUkzQixJQUFJLE9BQU8sR0FBRyxJQUFJLGVBQU8sRUFBRSxDQUFBO0lBQzNCLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsVUFBQyxHQUFRLEVBQUUsRUFBTztRQUN4RCxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ04sTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFBO1FBQ3RCLENBQUM7UUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQTtRQUM5QixFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLE9BQU8sQ0FBQyxVQUFDLEdBQVEsRUFBRSxNQUFXO1lBQ3hELEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ04sTUFBTSxHQUFHLENBQUE7WUFDYixDQUFDO1lBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUNuQixHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQyxDQUFDLENBQUE7QUFDTixDQUFDLENBQUMsQ0FBQTtBQUVnQiIsImZpbGUiOiJyb3V0ZXJzL3Jvb3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBEYXRhIH0gZnJvbSAnLi9pbmRleCdcclxuaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xyXG5cclxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcclxucm91dGVyLmdldCgnLycsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gICAgLy8gcmVzLmpzb24oe1xyXG4gICAgLy8gICAgICduYW1lJzogJ21vbmtleSdcclxuICAgIC8vIH0pXHJcbiAgICBsZXQgYXBwRGF0YSA9IG5ldyBBcHBEYXRhKClcclxuICAgIGFwcERhdGEuY2xpZW50LmNvbm5lY3QoYXBwRGF0YS5zZXJ2ZXJVcmwsIChlcnI6IGFueSwgZGI6IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgdGhyb3cgJ0VycjonICsgZXJyXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGFwcERhdGEuc2VydmVyVXJsKVxyXG4gICAgICAgIGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZmluZCgpLnRvQXJyYXkoKGVycjogYW55LCByZXN1bHQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpXHJcbiAgICAgICAgICAgIHJlcy5qc29uKHJlc3VsdClcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSlcclxuXHJcbmV4cG9ydCB7IHJvdXRlciB9O1xyXG5cclxuIl19
