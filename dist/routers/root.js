"use strict";
var getConfigData_1 = require('./getConfigData');
var express = require('express');
var router = express.Router();
exports.router = router;
router.get('/', function (req, res, next) {
    var appData = new getConfigData_1.AppDataConfig();
    appData.client.connect(appData.serverUrl, function (err, db) {
        if (err) {
            res.sendStatus(500);
            throw err;
        }
        console.log(appData.serverUrl);
        db.collection('users').find().toArray(function (err, result) {
            if (err) {
                res.sendStatus(404);
                throw err;
            }
            console.log(result);
            res.json(result);
        });
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yb3V0ZXJzL3Jvb3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDhCQUE4QixpQkFDOUIsQ0FBQyxDQUQ4QztBQUMvQyxJQUFZLE9BQU8sV0FBTSxTQUV6QixDQUFDLENBRmlDO0FBRWxDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUU7QUFvQnBCLGNBQU0sVUFwQmM7QUFDN0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsVUFBQyxHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUNuRSxJQUFJLE9BQU8sR0FBRyxJQUFJLDZCQUFhLEVBQUUsQ0FBQTtJQUNqQyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLFVBQUMsR0FBUSxFQUFFLEVBQU87UUFDeEQsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNOLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDbkIsTUFBTSxHQUFHLENBQUE7UUFDYixDQUFDO1FBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDOUIsRUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBQyxHQUFRLEVBQUUsTUFBVztZQUN4RCxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNOLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUE7Z0JBQ25CLE1BQU0sR0FBRyxDQUFBO1lBQ2IsQ0FBQztZQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDbkIsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUMsQ0FBQyxDQUFBO0FBQ04sQ0FBQyxDQUFDLENBQUE7QUFFZ0IiLCJmaWxlIjoicm91dGVycy9yb290LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwRGF0YUNvbmZpZyB9IGZyb20gJy4vZ2V0Q29uZmlnRGF0YSdcclxuaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xyXG5cclxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcclxucm91dGVyLmdldCgnLycsIChyZXE6IGV4cHJlc3MuUmVxdWVzdCwgcmVzOiBleHByZXNzLlJlc3BvbnNlLCBuZXh0OiBhbnkpID0+IHtcclxuICAgIGxldCBhcHBEYXRhID0gbmV3IEFwcERhdGFDb25maWcoKVxyXG4gICAgYXBwRGF0YS5jbGllbnQuY29ubmVjdChhcHBEYXRhLnNlcnZlclVybCwgKGVycjogYW55LCBkYjogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICByZXMuc2VuZFN0YXR1cyg1MDApXHJcbiAgICAgICAgICAgIHRocm93IGVyclxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhhcHBEYXRhLnNlcnZlclVybClcclxuICAgICAgICBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmZpbmQoKS50b0FycmF5KChlcnI6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgcmVzLnNlbmRTdGF0dXMoNDA0KVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KVxyXG4gICAgICAgICAgICByZXMuanNvbihyZXN1bHQpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn0pXHJcblxyXG5leHBvcnQgeyByb3V0ZXIgfTtcclxuXHJcbiJdfQ==
