"use strict";
var index_1 = require('./index');
var express = require('express');
var router = express.Router();
exports.router = router;
router.get('/', function (req, res, next) {
    console.log(456);
    console.log(123);
    var appData = new index_1.AppData();
    appData.client.connect(appData.serverUrl, function (err, db) {
        if (err) {
            throw 'Err:' + err;
        }
        console.log(appData.serverUrl);
        db.collection('users').find().toArray(function (err, result) {
            if (err) {
                throw err;
            }
            console.log(result);
            res.json(result);
        });
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yb3V0ZXJzL3Jvb3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLHNCQUF3QixTQUN4QixDQUFDLENBRGdDO0FBQ2pDLElBQVksT0FBTyxXQUFNLFNBRXpCLENBQUMsQ0FGaUM7QUFFbEMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRTtBQW9CcEIsY0FBTSxVQXBCYztBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxVQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSTtJQUMzQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDakIsSUFBSSxPQUFPLEdBQUcsSUFBSSxlQUFPLEVBQUUsQ0FBQTtJQUMzQixPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLFVBQUMsR0FBUSxFQUFFLEVBQU87UUFDeEQsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNOLE1BQU0sTUFBTSxHQUFHLEdBQUcsQ0FBQTtRQUN0QixDQUFDO1FBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDOUIsRUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBQyxHQUFRLEVBQUUsTUFBVztZQUN4RCxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNOLE1BQU0sR0FBRyxDQUFBO1lBQ2IsQ0FBQztZQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDbkIsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUMsQ0FBQyxDQUFBO0FBQ04sQ0FBQyxDQUFDLENBQUE7QUFFZ0IiLCJmaWxlIjoicm91dGVycy9yb290LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwRGF0YSB9IGZyb20gJy4vaW5kZXgnXHJcbmltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcclxuXHJcbnZhciByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXHJcbnJvdXRlci5nZXQoJy8nLCAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKDQ1Nik7XHJcbiAgICBjb25zb2xlLmxvZygxMjMpO1xyXG4gICAgbGV0IGFwcERhdGEgPSBuZXcgQXBwRGF0YSgpXHJcbiAgICBhcHBEYXRhLmNsaWVudC5jb25uZWN0KGFwcERhdGEuc2VydmVyVXJsLCAoZXJyOiBhbnksIGRiOiBhbnkpID0+IHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgIHRocm93ICdFcnI6JyArIGVyclxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhhcHBEYXRhLnNlcnZlclVybClcclxuICAgICAgICBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmZpbmQoKS50b0FycmF5KChlcnI6IGFueSwgcmVzdWx0OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KVxyXG4gICAgICAgICAgICByZXMuanNvbihyZXN1bHQpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn0pXHJcblxyXG5leHBvcnQgeyByb3V0ZXIgfTtcclxuXHJcbiJdfQ==
