"use strict";
var express = require('express');
var path = require('path');
var logger = require('morgan');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');
var root_1 = require('./routers/root');
var app = express();
app.set('views', path.join(__dirname, 'views'));
app.set('view engine', 'jade');
app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));
var router = express.Router();
router.get('/', function (req, res, next) {
    console.log(123);
    res.json({
        'name': 'monkey'
    });
});
app.use('/', root_1.router);
app.use(function (req, res, next) {
    var err = new Error('Not Found');
    err.status = 404;
    console.log(123);
    res.json({
        'err': 'err'
    });
    next(err);
});
if (app.get('env') === 'development') {
    app.use(function (err, req, res, next) {
        res.status(err.status || 500);
    });
}
app.use(function (err, req, res, next) {
    res.status(err.status || 500);
});
module.exports = app;

//# sourceMappingURL=data:application/json;charset=utf8;base64,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RyxHQUFHLENBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xyXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnXHJcbmltcG9ydCAqIGFzIGZhdmljb24gZnJvbSAnc2VydmUtZmF2aWNvbidcclxuaW1wb3J0ICogYXMgbG9nZ2VyIGZyb20gJ21vcmdhbidcclxuaW1wb3J0ICogYXMgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInXHJcbmltcG9ydCAqIGFzIGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInXHJcbmltcG9ydCB7IHJvdXRlciBhcyByb290IH0gZnJvbSAnLi9yb3V0ZXJzL3Jvb3QnXHJcbi8vIGNvbXBvZW50c1xyXG5cclxudmFyIGFwcCA9IGV4cHJlc3MoKVxyXG5cclxuYXBwLnNldCgndmlld3MnLCBwYXRoLmpvaW4oX19kaXJuYW1lLCAndmlld3MnKSlcclxuYXBwLnNldCgndmlldyBlbmdpbmUnLCAnamFkZScpXHJcblxyXG5hcHAudXNlKGxvZ2dlcignZGV2JykpXHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpXHJcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKVxyXG5hcHAudXNlKGNvb2tpZVBhcnNlcigpKVxyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnKSkpXHJcblxyXG4vLyDot6/nlLHpg6jliIZcclxudmFyIHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbnJvdXRlci5nZXQoJy8nLCAocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygxMjMpXHJcbiAgICByZXMuanNvbih7XHJcbiAgICAgICAgJ25hbWUnOiAnbW9ua2V5J1xyXG4gICAgfSlcclxufSlcclxuLy8gYXBwLnVzZSgnLycsIHJvdXRlcik7XHJcbmFwcC51c2UoJy8nLCByb290KTtcclxuYXBwLnVzZShmdW5jdGlvbiAocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSB7XHJcbiAgICB2YXIgZXJyOiBhbnkgPSBuZXcgRXJyb3IoJ05vdCBGb3VuZCcpO1xyXG4gICAgZXJyLnN0YXR1cyA9IDQwNDtcclxuICAgIGNvbnNvbGUubG9nKDEyMylcclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgICAnZXJyJzogJ2VycidcclxuICAgIH0pXHJcbiAgICBuZXh0KGVycik7XHJcbn0pXHJcblxyXG5pZiAoYXBwLmdldCgnZW52JykgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgIGFwcC51c2UoZnVuY3Rpb24gKGVycjogYW55LCByZXE6IGV4cHJlc3MuUmVxdWVzdCwgcmVzOiBleHByZXNzLlJlc3BvbnNlLCBuZXh0OiBhbnkpIHtcclxuICAgICAgICByZXMuc3RhdHVzKGVyci5zdGF0dXMgfHwgNTAwKTtcclxuICAgICAgICAvLyByZXMucmVuZGVyKCdlcnJvcicsIHtcclxuICAgICAgICAvLyAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAgICAgLy8gICAgIGVycm9yOiBlcnJcclxuICAgICAgICAvLyB9KTtcclxuICAgIH0pO1xyXG59XHJcbi8vIHByb2R1Y3Rpb24gZXJyb3IgaGFuZGxlclxyXG4vLyBubyBzdGFja3RyYWNlcyBsZWFrZWQgdG8gdXNlclxyXG5hcHAudXNlKGZ1bmN0aW9uIChlcnI6IGFueSwgcmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSB7XHJcbiAgICByZXMuc3RhdHVzKGVyci5zdGF0dXMgfHwgNTAwKTtcclxuICAgIC8vIHJlcy5yZW5kZXIoJ2Vycm9yJywge1xyXG4gICAgLy8gICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgIC8vICAgZXJyb3I6IHt9XHJcbiAgICAvLyB9KTtcclxufSk7XHJcblxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gYXBwIl19
