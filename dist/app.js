"use strict";
var express = require('express');
var path = require('path');
var logger = require('morgan');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');
var root_1 = require('./routers/root');
var app = express();
exports.app = app;
app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));
app.use('/', root_1.router);
app.use(function (req, res, next) {
    var err = new Error('Not Found');
    err.status = 404;
    console.log(123);
    res.json({
        'err': 'err'
    });
    next(err);
});
if (app.get('env') === 'development') {
    app.use(function (err, req, res, next) {
        res.status(err.status || 500);
    });
}
app.use(function (err, req, res, next) {
    res.status(err.status || 500);
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9hcHAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQVksT0FBTyxXQUFNLFNBQ3pCLENBQUMsQ0FEaUM7QUFDbEMsSUFBWSxJQUFJLFdBQU0sTUFDdEIsQ0FBQyxDQUQyQjtBQUU1QixJQUFZLE1BQU0sV0FBTSxRQUN4QixDQUFDLENBRCtCO0FBQ2hDLElBQVksWUFBWSxXQUFNLGVBQzlCLENBQUMsQ0FENEM7QUFDN0MsSUFBWSxVQUFVLFdBQU0sYUFDNUIsQ0FBQyxDQUR3QztBQUN6QyxxQkFBK0IsZ0JBRy9CLENBQUMsQ0FIOEM7QUFHL0MsSUFBSSxHQUFHLEdBQUcsT0FBTyxFQUFFO0FBMkNWLFdBQUcsT0EzQ087QUFLbkIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtBQUN0QixHQUFHLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFBO0FBQzFCLEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFDbkQsR0FBRyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFBO0FBQ3ZCLEdBQUcsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFHdkQsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsYUFBSSxDQUFDLENBQUM7QUFDbkIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxVQUFTLEdBQW9CLEVBQUUsR0FBcUIsRUFBRSxJQUFTO0lBQ25FLElBQUksR0FBRyxHQUFRLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3RDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQ2pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDaEIsR0FBRyxDQUFDLElBQUksQ0FBQztRQUNMLEtBQUssRUFBRSxLQUFLO0tBQ2YsQ0FBQyxDQUFBO0lBQ0YsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2QsQ0FBQyxDQUFDLENBQUE7QUFFRixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLGFBQWEsQ0FBQyxDQUFDLENBQUM7SUFDbkMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxVQUFTLEdBQVEsRUFBRSxHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztRQUM3RSxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLENBQUM7SUFLbEMsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDO0FBR0QsR0FBRyxDQUFDLEdBQUcsQ0FBQyxVQUFTLEdBQVEsRUFBRSxHQUFvQixFQUFFLEdBQXFCLEVBQUUsSUFBUztJQUM3RSxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLElBQUksR0FBRyxDQUFDLENBQUM7QUFLbEMsQ0FBQyxDQUFDLENBQUM7QUFHVyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCdcclxuaW1wb3J0ICogYXMgZmF2aWNvbiBmcm9tICdzZXJ2ZS1mYXZpY29uJ1xyXG5pbXBvcnQgKiBhcyBsb2dnZXIgZnJvbSAnbW9yZ2FuJ1xyXG5pbXBvcnQgKiBhcyBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcidcclxuaW1wb3J0ICogYXMgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcidcclxuaW1wb3J0IHsgcm91dGVyIGFzIHJvb3QgfSBmcm9tICcuL3JvdXRlcnMvcm9vdCdcclxuLy8gY29tcG9lbnRzXHJcblxyXG52YXIgYXBwID0gZXhwcmVzcygpXHJcblxyXG4vLyBhcHAuc2V0KCd2aWV3cycsIHBhdGguam9pbihfX2Rpcm5hbWUsICd2aWV3cycpKVxyXG4vLyBhcHAuc2V0KCd2aWV3IGVuZ2luZScsICdqYWRlJylcclxuXHJcbmFwcC51c2UobG9nZ2VyKCdkZXYnKSlcclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSlcclxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpXHJcbmFwcC51c2UoY29va2llUGFyc2VyKCkpXHJcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJ3B1YmxpYycpKSlcclxuXHJcbi8vIOi3r+eUsemDqOWIhlxyXG5hcHAudXNlKCcvJywgcm9vdCk7XHJcbmFwcC51c2UoZnVuY3Rpb24ocmVxOiBleHByZXNzLlJlcXVlc3QsIHJlczogZXhwcmVzcy5SZXNwb25zZSwgbmV4dDogYW55KSB7XHJcbiAgICB2YXIgZXJyOiBhbnkgPSBuZXcgRXJyb3IoJ05vdCBGb3VuZCcpO1xyXG4gICAgZXJyLnN0YXR1cyA9IDQwNDtcclxuICAgIGNvbnNvbGUubG9nKDEyMylcclxuICAgIHJlcy5qc29uKHtcclxuICAgICAgICAnZXJyJzogJ2VycidcclxuICAgIH0pXHJcbiAgICBuZXh0KGVycik7XHJcbn0pXHJcblxyXG5pZiAoYXBwLmdldCgnZW52JykgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgIGFwcC51c2UoZnVuY3Rpb24oZXJyOiBhbnksIHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UsIG5leHQ6IGFueSkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoZXJyLnN0YXR1cyB8fCA1MDApO1xyXG4gICAgICAgIC8vIHJlcy5yZW5kZXIoJ2Vycm9yJywge1xyXG4gICAgICAgIC8vICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcclxuICAgICAgICAvLyAgICAgZXJyb3I6IGVyclxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuLy8gcHJvZHVjdGlvbiBlcnJvciBoYW5kbGVyXHJcbi8vIG5vIHN0YWNrdHJhY2VzIGxlYWtlZCB0byB1c2VyXHJcbmFwcC51c2UoZnVuY3Rpb24oZXJyOiBhbnksIHJlcTogZXhwcmVzcy5SZXF1ZXN0LCByZXM6IGV4cHJlc3MuUmVzcG9uc2UsIG5leHQ6IGFueSkge1xyXG4gICAgcmVzLnN0YXR1cyhlcnIuc3RhdHVzIHx8IDUwMCk7XHJcbiAgICAvLyByZXMucmVuZGVyKCdlcnJvcicsIHtcclxuICAgIC8vICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICAvLyAgIGVycm9yOiB7fVxyXG4gICAgLy8gfSk7XHJcbn0pO1xyXG5cclxuXHJcbmV4cG9ydCB7IGFwcCB9IC8vZXhwb3J0IHthcHB9IC0tLee8luivkS0tLT5leHBvcnRzLmFwcCA9IGFwcFxyXG4vL2V4cG9ydCA9IGFwcC0tLee8luivkS0tLT5tb2R1bGUuZXhwb3J0cyA9IGFwcFxyXG4vLyB0c+eahOWKoOi9veWZqOavlG5vZGVqc+WKoOi9veWZqOWkmuS6huS4gOWxguWvueixoe+8jOWmguaenOa3t+WQiOS9v+eUqO+8jOmcgOimgeWFiOWwhnRz55qE5a+56LGh6Kej5p6Q5aSE55CG77yaXHJcbi8vIG5hbWUudHPmlofku7YodHPlr7nlupTnmoTlr7zlh7rml7ZpbXBvcnQpXHJcbi8vZXhwb3J0IGZ1bmN0aW9uIG5hbWUoKXsuLi59XHJcblxyXG4vLyBuYW1lLmpzKHRzY+e8luivkeWQjueahClcclxuLy8gZXhwb3J0cy5uYW1lID0gZnVuY3Rpb24gbmFtZSgpey4uLn1cclxuXHJcbi8vIG1haW4uanPmlofku7Ys5L2/55SoY29tbW9uanPlr7zlhaVcclxuLy9sZXQgbmFtZSA9IHJldWlyZSgnbmFtZScpLm5hbWVcclxuLy8gZXhwb3J0IHt9IOiiq+e8luivkeaIkGV4cG9ydC5hcHAgPSBhcHAg5oiWIGV4cG9ydC5kZWZhdWx0ID0gYXBwXHJcbi8v5oyJ54WnY29tbW9uanPlr7ltb2R1bGUuZXhwb3J0c+WSjGV4cG9ydHPnmoTop6Pph4rvvIxcclxuLy8gbW9kdWxlLmV4cG9ydHPlkoxleHBvcnRz5Yid5aeL5YyW5oyH5ZCR5ZCM5LiA5a+56LGh77yM5Y2ze30s5piv5Liq56m65a+56LGhXHJcbi8vIOS9huaYr3JlcXVpcmXpu5jorqTlr7zlhaXnmoTmmK9tb2R1bGUuZXhwb3J0c+Wvueixoe+8iOmZpOmdnuS/ruaUuW1vZHVsZS5leHBvcnRzLOWQpuiAheS4pOiAheS4gOebtOaYr+S4gOagt+eahO+8iVxyXG4vLyDkuZ/lsLHmmK/or7TkuIBtb2R1bGUuZXhwb3J0c+S4uuS4u++8jOacieWAvOWImeW/veeVpWV4cG9ydHPvvIzmsqHmnInlgLzlsIZleHBvcnRz5YC86LWL5YC857uZbW9kdWxlLmV4cG9ydHPlubblr7zlh7pcclxuLy8g5Y+C6ICD6LWE5paZ77yaaHR0cHM6Ly9jbm9kZWpzLm9yZy90b3BpYy81MjMxYTYzMDEwMWU1NzQ1MjFlNDVlZjgiXX0=
