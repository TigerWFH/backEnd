{"version":3,"sources":["../src/app.ts"],"names":[],"mappings":";AAAA,IAAY,OAAO,WAAM,SACzB,CAAC,CADiC;AAClC,IAAY,IAAI,WAAM,MACtB,CAAC,CAD2B;AAE5B,IAAY,MAAM,WAAM,QACxB,CAAC,CAD+B;AAChC,IAAY,YAAY,WAAM,eAC9B,CAAC,CAD4C;AAC7C,IAAY,UAAU,WAAM,aAC5B,CAAC,CADwC;AACzC,qBAA+B,gBAE/B,CAAC,CAF8C;AAC/C,YAAY;AACZ,IAAI,KAAK,GAAG,OAAO,CAAC,eAAe,CAAC,CAAA;AAEpC,IAAI,GAAG,GAAG,OAAO,EAAE,CAAA;AAEnB,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,CAAA;AAC/C,GAAG,CAAC,GAAG,CAAC,aAAa,EAAE,MAAM,CAAC,CAAA;AAE9B,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAA;AACtB,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAA;AAC1B,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,CAAA;AACnD,GAAG,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC,CAAA;AACvB,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAA;AAEvD,OAAO;AACP,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,aAAI,CAAC,CAAA;AAClB,GAAG,CAAC,GAAG,CAAC,UAAU,GAAQ,EAAE,GAAQ,EAAE,IAAS;IAC3C,IAAI,GAAG,GAAQ,IAAI,KAAK,CAAC,WAAW,CAAC,CAAC;IACtC,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;IACjB,IAAI,CAAC,GAAG,CAAC,CAAC;AACd,CAAC,CAAC,CAAA;AAEF,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,aAAa,CAAC,CAAC,CAAC;IACnC,GAAG,CAAC,GAAG,CAAC,UAAU,GAAQ,EAAE,GAAQ,EAAE,GAAQ,EAAE,IAAS;QACrD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC;QAC9B,wBAAwB;QACxB,4BAA4B;QAC5B,iBAAiB;QACjB,MAAM;IACV,CAAC,CAAC,CAAC;AACP,CAAC;AAED,2BAA2B;AAC3B,gCAAgC;AAChC,GAAG,CAAC,GAAG,CAAC,UAAU,GAAQ,EAAE,GAAQ,EAAE,GAAQ,EAAE,IAAS;IACrD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC;IAC9B,wBAAwB;IACxB,0BAA0B;IAC1B,cAAc;IACd,MAAM;AACV,CAAC,CAAC,CAAC;AAIH,MAAM,CAAC,OAAO,GAAG,GAAG,CAAA","file":"../app.js","sourcesContent":["import * as express from 'express'\r\nimport * as path from 'path'\r\nimport * as favicon from 'serve-favicon'\r\nimport * as logger from 'morgan'\r\nimport * as cookieParser from 'cookie-parser'\r\nimport * as bodyParser from 'body-parser'\r\nimport { router as root } from './routers/root'\r\n// compoents\r\nvar model = require('./datas/index')\r\n\r\nvar app = express()\r\n\r\napp.set('views', path.join(__dirname, 'views'))\r\napp.set('view engine', 'jade')\r\n\r\napp.use(logger('dev'))\r\napp.use(bodyParser.json())\r\napp.use(bodyParser.urlencoded({ extended: false }))\r\napp.use(cookieParser())\r\napp.use(express.static(path.join(__dirname, 'public')))\r\n\r\n// 路由部分\r\napp.use('/', root)\r\napp.use(function (req: any, res: any, next: any) {\r\n    var err: any = new Error('Not Found');\r\n    err.status = 404;\r\n    next(err);\r\n})\r\n\r\nif (app.get('env') === 'development') {\r\n    app.use(function (err: any, req: any, res: any, next: any) {\r\n        res.status(err.status || 500);\r\n        // res.render('error', {\r\n        //     message: err.message,\r\n        //     error: err\r\n        // });\r\n    });\r\n}\r\n\r\n// production error handler\r\n// no stacktraces leaked to user\r\napp.use(function (err: any, req: any, res: any, next: any) {\r\n    res.status(err.status || 500);\r\n    // res.render('error', {\r\n    //   message: err.message,\r\n    //   error: {}\r\n    // });\r\n});\r\n\r\n\r\n\r\nmodule.exports = app "]}